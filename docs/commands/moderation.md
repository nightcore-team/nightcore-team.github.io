# Команды системы модерации

---

## /ban
!!! info ""

    Команда для блокировки пользователя

    ### Доступ
    `BAN_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании
    - `ban_members` - для блокировки пользователя

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов
    - `delete_messages_per` - длительность удаления сообщений пользователя (s/m/h/d/w), пример - 1d (опционален)

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания
    - `Duration` - длительность выдачи наказания, пример - 30d
    - `Delete messages per last` - длительность удаления сообщений пользователя  
    опционален, только при вводе параметра `delete_messages_per`
    - `Ends` - дата снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать участника с доступом `ADMINISTRATOR`
    - Невозможно наказать бота
    - Невозможно наказать участника с ролью выше чем у бота
    - Пользователь уже наказан в данной гильдии

---

## /mute
!!! info ""

    Команда для мута пользователя  
    В зависимости от [конфигурации](../commands/config.md/#config-moderation-setup) параметра `mute_type`, выдается либо роль, либо таймаут

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании
    - `moderate_members` - для выдачи таймаута
    - `manage_roles` - для выдачи роли наказания

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать, должен находиться в гильдии (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания
    - `Duration` - длительность выдачи наказания, пример - 30m
    - `Ends` - дата снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать участника с доступом `ADMINISTRATOR`
    - Невозможно наказать бота
    - Невозможно наказать участника с ролью выше чем у бота
    - Пользователь уже наказан
    - Роль для выдачи наказания не найдена / не настроена (если тип мута - `роль`)

---

## /mpmute
!!! info ""

    Команда для блокировки торговой площадки (marketplace mute)  
    Роль для выдачи настраивается в [конфигурации](../commands/config.md/#config-moderation-setup), параметр `mpmute_role`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании
    - `manage_roles` - для выдачи роли наказания

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать, должен находиться в гильдии (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания
    - `Duration` - длительность выдачи наказания, пример - 30m
    - `Ends` - дата снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать участника с доступом `ADMINISTRATOR`
    - Невозможно наказать бота
    - Невозможно наказать участника с ролью выше чем у бота
    - Пользователь уже наказан в данной гильдии
    - Роль для выдачи наказания не найдена / не настроена

---

## /kick
!!! info ""

    Команда для кика пользоваться с гильдии

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании
    - `kick_members` - для кика пользователя

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать, должен находиться в гильдии (Упоминание или id)
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать участника с доступом `ADMINISTRATOR`
    - Невозможно наказать бота
    - Невозможно наказать участника с ролью выше чем у бота
    - Пользователь не находится на сервере

---

## /rrban
!!! info ""

    Команда для блокировки запросов ролей

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать, должен находиться в гильдии (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания
    - `Duration` - длительность выдачи наказания, пример - 30m
    - `Ends` - дата снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать бота
    - Пользователь уже наказан в данной гильдии

---

## /ticketban
!!! info ""

    Команда для блокировки создания тикетов

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать, должен находиться в гильдии (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания
    - `Duration` - длительность выдачи наказания, пример - 30m
    - `Ends` - дата снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать бота
    - Пользователь уже наказан в данной гильдии

---

## /vmute
!!! info ""

    Команда для блокировки торговой площадки (marketplace mute)  
    Роль для выдачи настраивается в [конфигурации](../commands/config.md/#config-moderation-setup), параметр `vmute_role`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о наказании
    - `manage_roles` - для выдачи роли наказания

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать, должен находиться в гильдии (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - наказанный пользователь (Упоминание)
    - `Moderator` - пользователь, выдавший наказание (Упоминание)
    - `Reason` - причина выдачи наказания
    - `Duration` - длительность выдачи наказания, пример - 30m
    - `Ends` - дата снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать участника с доступом `ADMINISTRATOR`
    - Невозможно наказать бота
    - Невозможно наказать участника с ролью выше чем у бота
    - Пользователь уже наказан в данной гильдии
    - Роль для выдачи наказания не найдена / не настроена

---

## /unmute
!!! info ""

    Команда для снятия наказания, выданного с помощью `/mute`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `manage_roles` - для снятия роли наказания
    - `moderate_members` - для снятия таймаута

    ### Параметры
    - `user` - пользователь, наказание с которого вы хотите снять, должен находиться в гильдии (Упоминание или id)
    - `reason` - причина снятия наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - пользователь, с которого было снято наказание (Упоминание)
    - `Moderator` - пользователь, снявший наказание (Упоминание)
    - `Reason` - причина снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно снять наказание боту
    - Невозможно снять наказание с участника с ролью выше чем у бота
    - Пользователь не наказан в данной гильдии
    - Роль для выдачи наказания не найдена / не настроена

---

## /unban
!!! info ""

    Команда для снятия наказания, выданного с помощью `/ban`

    ### Доступ
    `UNBAN_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `ban_members` - для снятия бана

    ### Параметры
    - `user` - пользователь, наказание с которого вы хотите снять (Упоминание или id)
    - `reason` - причина снятия наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - пользователь, с которого было снято наказание (Упоминание)
    - `Moderator` - пользователь, снявший наказание (Упоминание)
    - `Reason` - причина снятия наказания

!!! warning "Возможные ошибки"
    - Пользователь не забанен в данной гильдии

---

## /unmpmute
!!! info ""

    Команда для снятия наказания, выданного с помощью `/mpmute`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `manage_roles` - для снятия роли наказания

    ### Параметры
    - `user` - пользователь, наказание с которого вы хотите снять, должен находиться в гильдии (Упоминание или id)
    - `reason` - причина снятия наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - пользователь, с которого было снято наказание (Упоминание)
    - `Moderator` - пользователь, снявший наказание (Упоминание)
    - `Reason` - причина снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно снять наказание боту
    - Невозможно снять наказание с участника с ролью выше чем у бота
    - Пользователь не наказан в данной гильдии
    - Роль для выдачи наказания не найдена / не настроена

---

## /unticketban
!!! info ""

    Команда для снятия наказания, выданного с помощью `/mpmute`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `manage_roles` - для снятия роли наказания

    ### Параметры
    - `user` - пользователь, наказание с которого вы хотите снять, должен находиться в гильдии (Упоминание или id)
    - `reason` - причина снятия наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - пользователь, с которого было снято наказание (Упоминание)
    - `Moderator` - пользователь, снявший наказание (Упоминание)
    - `Reason` - причина снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно снять наказание боту

---

## /unvmute
!!! info ""

    Команда для снятия наказания, выданного с помощью `/vmute`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `manage_roles` - для снятия роли наказания
    - `moderate_members` - обязательно для работы команды, но будет убрано

    ### Параметры
    - `user` - пользователь, наказание с которого вы хотите снять, должен находиться в гильдии (Упоминание или id)
    - `reason` - причина снятия наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - пользователь, с которого было снято наказание (Упоминание)
    - `Moderator` - пользователь, снявший наказание (Упоминание)
    - `Reason` - причина снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно снять наказание боту
    - Невозможно снять наказание с участника с ролью выше чем у бота
    - Пользователь не наказан в данной гильдии
    - Роль для выдачи наказания не найдена / не настроена

---

## /unrrban
!!! info ""

    Команда для снятия наказания, выданного с помощью `/rrban`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `manage_roles` - для снятия роли наказания
    - `moderate_members` - обязательно для работы команды, но будет убрано

    ### Параметры
    - `user` - пользователь, наказание с которого вы хотите снять, должен находиться в гильдии (Упоминание или id)
    - `reason` - причина снятия наказания, ограничение от 1 до 1000 символов

!!! note "Информация в логе"
    - `User` - пользователь, с которого было снято наказание (Упоминание)
    - `Moderator` - пользователь, снявший наказание (Упоминание)
    - `Reason` - причина снятия наказания

!!! warning "Возможные ошибки"
    - Невозможно снять наказание боту

---

## /clear
!!! info ""

    Команда для удаления сообщений в текущем канале (В котором была введена команда)

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `manage_messages` - для удаления сообщений

    ### Параметры
    - `amount` - количество сообщений для удаления, ограничене от 1 до 100
    - `user` - пользователь, чьи сообщения нужно удалить (Упоминанине или id) (опционален)

!!! note "Информация в логе"
    - `Moderator` - пользователь, удаливший сообщения
    - `Channel` - канал, в котором были удалены сообщения
    - `Count` - количество удаленных сообщений

---

## /setname
!!! info ""

    Команда для изменения никнейма юзера

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), обязательно для отправки лога о снятии наказании
    - `change_nickname` - для изменения ника юзера

    ### Параметры
    - `user` - пользователь, у которого будет изменен никнейм (Упоминание или id)
    - `reason` - причина изменения никнейма, ограничение от 1 до 1000
    - `nickname` - новый никнейм пользователя, если не введен - никнейм сбрасывается до глобального (опционален)

!!! note "Информация в логе"
    - `User` - пользователь, чей никнейм был изменен
    - `Moderator` - пользователь, изменивший никнейм
    - `Reason` - причина изменения никнейма
    - `Old nickname` - никнейм пользователя до изменения
    - `New nickname` - никнейм пользователя после изменения

!!! warning "Возможные ошибки"
    - Вы не можете изменить свой никнейм
    - Вы не можете менять никнейм у юзера с высшей ролью выше чем у бота
    - Никнейм не может быть длиннее 32 символов

---

## /infractions
!!! info ""

    Команда для просмотра наказаний пользователя  

    Отображает общую информацию о всех наказаниях пользователя:

    - `Общее количество нарушений`
    - `Количество нарушений за последние 7 дней`

    А так же информацию о каждом наказании:

    - `Тип наказания `(mute, ban и т.д)
    - `Время выдачи наказания`
    - `Длительность` - пример - 30d
    - `Причина выдачи наказания`
    - `Модератор, выдавший наказание`

    ### Доступ
    `MODERATION_ACCESS`

    ### Параметры
    - `user` - пользователь, чьи наказания вы хотите посмотреть (Упоминание или id)
    - `ephemeral` - видимость ответа бота `True` (Видно всем) или `False` (Видно только тому кто ввел команду) (опционален)

---

## /getmoderstats
!!! info ""

    Команда для просмотра информации об активности модераторов c `отслеживаемой ролью` или об отдельном пользователе  
    настройка отслеживаемой роли [здесь](config.md#config-moderstats), параметр `role`  
    настройка канала для подсчета сообщений [здесь](config.md#config-moderstats), параметр `channel` 

    Информация о каждом модераторе:

    - `Муты` - количество наказаний, выданных с помощью `/mute`
    - `Баны` - количество наказаний, выданных с помощью `/ban` / `/voteban` / формы на бан
    - `Кики` - количество наказаний, выданных с помощью `/kick`
    - `Войс муты` - количество наказаний, выданных с помощью `/vmute`
    - `MП муты` - количество наказаний, выданных с помощью `/mpmute`
    - Тикет баны - количество наказаний, выданных с помощью `/ticketban`
    - `Снятые роли` - количество снятых ролей с помощью с помощью `/rr`
    - `Закрытые тикеты` - количество закрытых тикетов
    - `Одобренные запросы ролей` - количество одобренных запросов на выдачу роли
    - `Отправленные уведомления` - количество отправленных с помощью `/notify` уведомлений
    - `Всего сообщений` - количество сообщений, отправленных в `отслеживаемый канал`
    - `Количество баллов` - общее количество баллов
    - `Количество добавленных / снятых баллов` - баллы, снятые или добавленнные с помощью `/changestat`

    ### Доступ
    `MODERATION_ACCESS`

    ### Параметры
    - `user` - модератор, чью активность вы хотите посмотреть (опционален)  
    если не введен, то выводятся все пользователи с `отслеживаемой ролью`
    - `from_date` - начальная дата получения активности (опционален)
    если не введен, то считается как понедельник текущей недели
    - `to_date` - конечная дата получени активности (опционален)
    если не введен, то считается как воскресенье текущей недели
    - `ephemeral` - видимость ответа бота `True` (Видно всем) или `False` (Видно только тому кто ввел команду) (опционален)

---

## /changestat
!!! info ""

    Команда для изменения баллов модератора (Пользователь с `MODERATION_ACCESS` или с `отслеживаемой ролью` для `/getmoderstat`)  

    Доступные типы статистики для изменения:

    - `Ban`
    - `Kick`
    - `Mute`
    - `MPmute`
    - `Vmute`
    - `Ticket`
    - `Ticketban`
    - `Role Remove`
    - `Role Accept`
    - `Notify`

    ### Доступ
    `HEAD_MODERATION_ACCESS`

    ### Необходимые права бота
    - `change_nickname` - для изменения ника юзера

    ### Параметры
    - `moderator` - модератор (Упоминание или id)
    - `type` - тип наказания
    - `amount` - количество баллов для выдачи (или снятия если отрицательное число), тип числа - целое или дробное
    - `reason` - причина изменения баллов

---

## /rr
!!! info ""

    Команда для снятия организационных ролей  
    Если их несколько, то доступен выбор ролей с помощью селект меню

    ### Доступ
    `MODERATION_ACCESS` или пользователи с ролями `leaders_access_rr_roles`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен), и для отправки в канал для выдачи ролей  
    обязательно для отправки лога о снятии роли
    - `manage_roles` - для снятия организационных ролей

    ### Параметры
    - `user` - пользователь, у которого нужно снять организационные роли (Упоминание или id)
    - `reason` - причина снятия ролей (опционален)

!!! note "Информация в логе"
    - `Moderator` - пользователь, снявший организационные роли
    - `Role(-s)` - снятые роли (Упоминание каждой снятой роли)
    - `Reason` - причина снятия ролей (опционально)

!!! warning "Возможные ошибки"
    - У пользователя нет организационных ролей

---

## /notify
!!! info ""

    Команда для отправки уведомления пользователю в определенный канал  
    который настраивается [здесь](config.md#config-notifications), параметр `notifications`  

    При истечении срока уведомления, отправляется оповещение в канал
    который настраивается [здесь](config.md#config-notifications), параметр `moderation_notifications` 

    После ввода команды вам предлагается выбрать одну или несколько частей профиля:

    - `Аватар`
    - `Описание`
    - `Обо мне`
    - `Статус`
    - `Баннер`
    - `Никнейм`
    - `Тег гильдии`
    - `Персональная роль`
    - `Местоимение`
    - `Интеграции`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для отправки уведомления пользователю и модерации 
    обязательно для отправки лога о снятии роли

    ### Параметры
    - `user` - пользователь, которому нужно отправить оповещение (Упоминание или id)
    - `duration` - длительность оповещения, пример - 30m  
    - `reason` - причина отправки оповещения, ограничение от 1 до 1000 символов

!!! warning "Возможные ошибки"
    - У пользователя нет организационных ролей

---

## /fraction_role
!!! info ""

    Команда для выдачи настроенных ролей

    Роли для выдачи и роли, которые смогут их выдавать, настраиваются [здесь](config.md#config-moderation-update_fraction_role_access)

    ### Доступ
    `MODERATION_ACCESS` / пользователи с ролями `fraction_roles_access` / если в ролях пользователя есть разрешенные для выдачи конкретной роли

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для логирования модерации (в случае если он настроен) 
    обязательно для отправки лога о снятии роли
    - manage_roles - для выдачи нужной роли

    ### Параметры
    - `user` - пользователь, которому нужно отправить оповещение (Упоминание или id)
    - `role` - роль, которую нужно выдать или снять
    Отображение с помощью автокомплита, выводятся названия ролей, которые возможно выдать данной командой  
    Как значение передается id роли
    - `option` - Добавить / Удалить выбранную роль у пользователя

!!! note "Информация в логе"
    - `Moderator` - пользователь, снявший роль
    - `Role(-s)` - снятая или выданная роль (Упоминание)

!!! warning "Возможные ошибки"
    - Пользователь уже имеет выбранную роль (При выбранной опции `Добавить`)
    - Пользователь не имеет выбранной роли (При выбранной опции `Удалить`)

---

## /voteban
!!! info ""

    Команда для отправки формы на бан  

    После ввода команды отправляется голосование, подробнее можно узнать [здесь](../components/moderation.md#banrequestview)

    Канал для форм на бан настраивается [здесь](config.md#config-moderation-setup), параметр `ban_request_channel`

    ### Доступ
    `MODERATION_ACCESS`

    ### Необходимые права бота
    - `send_messages` - доступ к отправке сообщений в канал для форм на бан

    ### Параметры
    - `user` - пользователь, которого вы хотите наказать (Упоминание или id)
    - `duration` - длительность наказания (s/m/h/d/w), пример - 30d
    - `reason` - причина выдачи наказания, ограничение от 1 до 1000 символов
    - `delete_messages_per` - длительность удаления сообщений пользователя (s/m/h/d/w), пример - 1d (опционален)

!!! warning "Возможные ошибки"
    - Невозможно наказать участника с доступом `MODERATION_ACCESS`
    - Невозможно наказать участника с доступом `ADMINISTRATOR`
    - Невозможно наказать бота
    - Невозможно наказать участника с ролью выше чем у бота
    - Пользователь уже наказан в данной гильдии


---