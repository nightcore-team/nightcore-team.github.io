# Команды системы кланов

## /clan info

Дает возможность посмотреть актуальную информацию о клане:

- Название клана  
- Текущего лидера и его заместителей  
- Уровень  
- Опыт  
- Репутацию  
- Количество участников и максимальное количество с учетом улучшений  
- Максимальное количество заместителей с учетом улучшений  

Так же по кнопке "Список участников" вызывается список с упоминаниями всех участников клана

### Параметры:
- clan - Клан, информацию о котором вы хотите посмотреть.  
Выбор с помощью автокомплита, ввод не влияет на выводимые кланы.  
Как значение передается id клана

### Возможные ошибки:
- Клан может быть не найден в базе данных

## /clan leave

Покинуть текущий клан

### Необходимые права бота:
- manage_roles - для снятия роли клана

### Возможные ошибки:
- Вы являетесь лидером клана (покинуть - только через модерацию)

## /clan list

Посмотреть список всех кланов

### Возможные ошибки:
 - На сервере не создано ни одного клана

## /clan top

Показать топ 10 кланов на сервере

### Параметры:
- sort_by - Выбор сортировки по участникам, репутации или дате создания

## /clan manage change_deputy

Добавить или снять заместителя в клане

### Доступ
Только лидеру клана

### Параметры:
- member - "Участник, которого вы хотите назначить/снять с должности заместителя. (упоминание или id)
- option - действие (назначить / снять)

### Возможные ошибки:
- Попытка изменения собственной роли
- Выбранный пользователь не состоит в вашем клане
- Достигнуто максимальное количество заместителей
- Пользователь уже является заместителем (при выбранной опции "назначить")
- Пользовать не является заместителем (при выбранной опции "снять")

## /clan manage create

Команда для создания нового клана.  
Создается роль клана и выдается выбранному лидеру клана

### Доступ:
CLANS_ACCESS

### Необходимые права бота:
- manage_roles
- доступ к отправке сообщений в канал для логирования клановой системы (в случае если он настроен), обязательно для отправки лога создания

### Параметры:
- name - название клана, ограничение в 100 символов
- leader - будущий лидер (упоминание или id)
- color - цвет в HEX формате, пример - #FF0000 для красного

### Возможные ошибки:
- Неверно введен цвет
- Клан с введенным названием уже существует
- Достигнуто максимальное количество ролей в гильдии (250)
- Ошибка, связанная с бд (созданная роль клана удаляется)
- Выбранный лидер уже состоит в другом клане (созданная роль клана удаляется)

## /clan manage delete

Команда для удаления клана.  
Удаляется роль клана на сервере

### Доступ:
CLANS_ACCESS

### Необходимые права бота:
- manage_roles - обязательно для удаления роли клана
- доступ к отправке сообщений в канал для логирования клановой системы (в случае если он настроен), обязательно для отправки лога удаления

### Параметры:
- clan - Клан, который вы хотите удалить.  
Выбор с помощью автокомплита, ввод не влияет на выводимые кланы.  
Как значение передается id клана

### Возможные ошибки:
- Выбранный клан не найден в базе данных

## /clan manage improvements

Команда для покупки клановых улучшений.

Доступные улучшения:

- Увеличение слотов на заместителя (+1), максимум слотов - 3
- Увеличение слотов на участника (+10), максимум слотов - 100
- х2 репутация за payday, максимальный множитель - 2

### Доступ:
Лидер клана или его заместители

### Параметры:
- improvement - улучшение

### Возможные ошибки:
- Вы ввели неверный номер улучшения
- Вы не состоите в клане или являетесь простым участником
- У клана недостаточно репутации для покупки улучшения
- Достигнут лимит улучшений

## /clan manage invite

Пригласить участника в клан.  
При после отправки команды в чат отправляется сообщение, с помощью которого пользователь может выбрать, принять или отклонить приглашение

### Доступ:
Лидер клана или его заместители

### Необходимые права бота:
- manage_roles - для выдачи роли приглашенному человеку
- доступ к отправке сообщений в канал для логирования клановой системы (в случае если он настроен), обязательно для отправки лога инвайта

### Параметры:
- user - пользователь, которого вы хотите пригласить (упоминание или id)

### Возможные ошибки:
- Вы не состоите в клане, или являетесь простым участником
- Достигнуто максимальное количество участников
- Выбранный пользователь уже состоит в клане

## /clan manage kick

Команда для кика участника из клана. Участнику не обязательно присутствовать на сервере для возможности его кикнуть.

### Доступ:
Лидер клана или его заместители

### Необходимые права бота:
- manage_roles - для снятия роли клана исключенному участнику
- send_messages - доступ к отправке сообщений в канал для логирования клановой системы (в случае если он настроен), обязательно для отправки лога кика

### Параметры:
- user - пользователь, которого вы хотите кикнуть (упоминание или id)

### Возможные ошибки:
- Вы хотите кикнуть пользователя, не состоящего в вашем клане

## /clan manage settings

Управление настройками клана.  

Доступные настройки:

- Смена лидера
- Смена названия
- Изменение роли клана

### Доступ:
CLANS_ACCESS

### Необходимые права бота:
- send_messages - доступ к отправке сообщений в канал для логирования клановой системы (в случае если он настроен), обязательно для отправки лога изменения клана

### Параметры:
- clan - Клан, который вы хотите изменить.  
Выбор с помощью автокомплита, ввод не влияет на выводимые кланы.  
Как значение передается id клана
- new_leader - новый лидер (упоминание или id), обязан состоять в этом клане
- new_role - новая роль (упоминание или id)  
ограничения - не может быть с правами администратора, быть выше чем высшая роль бота
- new_name - новое название, ограничение в 100 символов

### Возможные ошибки:
- Клан не найден в базе данных
- Выбранный лидер не состоит в этом клане
- Выбранный параметр не отличается от текущего

## /clan manage shop

Команда для покупки предметов из кланового магазина.  
Создается ветка, в которой модераторы могут отклонить или одобрить покупку.  
Репутация списывается после одобрения покупки.

Больше информации о ветке [здесь](../components/clans.md#клановый-магазин)

### Доступ:
Лидер клана или его заместители

### Необходимые права бота:
- create_private_threads - для создание ветки
- send_messages_in_threads - для отправки в ветку информации о покупке

### Параметры:
- item - товар, который вы хотите купить  
Выбор с помощью автокомплита, ввод не влияет на выводимые товары.  
Как значение передается название товара

### Возможные ошибки:
- Выбранный предмет не существует
- Недостаточно репутации для покупки предмета
- Канал для создания ветки не настроен в конфигурации
- Канал для создания ветки настроен, но не найден на сервере